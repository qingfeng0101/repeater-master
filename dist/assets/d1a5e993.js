import{p as d,a as f}from "./3a8f2c57.js";import{f as h,ad as k,H as g,A as y,c as _,i as u,j as C,u as i,G as n,ai as o,o as D,n as x,am as z}from "./315a852e.js";import{M as v}from "./index.148f4d09.js";import{_ as B}from "./d304026b.js";const b=h({__name:"index",setup(F){const l=[{title:"\u540D\u79F0",key:"name"},{title:"BaseUrl",key:"base_url"},{title:"Alerts",key:"alerts"},{title:"Targets",key:"targets"},{title:"Rules",key:"rules"},{title:"\u5907\u6CE8",key:"comment"},{title:"\u64CD\u4F5C",key:"actions",width:180,render(e){return[n(o,{size:"small",type:"primary",class:"mr-8px",onClick:()=>r.push({name:"PrometheusDatasourceEdit",params:{id:e.id}})},{default:()=>"\u7F16\u8F91"}),n(B,{size:"small",type:"error",onClick:()=>p(e)},{default:()=>"\u5220\u9664"})]}}],a=k({page:1,pageSize:15,showSizePicker:!0,pageSizes:[10,15,25,30,50,100],onChange: e=>{a.page=e},onPageSizeChange: e=>{a.pageSize=e,a.page=1}}),t=g([]);d().then(e=>{t.value=e.data});const r=y();function c(){r.push({name:"PrometheusDatasourceAdd"})}function p(e){f(e.id).then(()=>{var s;t.value.splice(t.value.indexOf(e),1),(s=v)==null||s.success("success")})}return(e, s)=>(D(),_("div",null,[u(i(o),{type:"primary",onClick:c,class:"mb-8px"},{default:C(()=>[x("\u6DFB\u52A0")]),_:1}),u(i(z),{data:t.value,pagination:a,columns:l,"row-key": m=>m.id},null,8,["data","pagination","row-key"])]))}});export{b as default};

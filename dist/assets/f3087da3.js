import{c as v,a as D,b as E}from "./2d7efc63.js";import{f as S,ad as d,H as m,A as F,c as B,i as t,j as c,u as n,G as f,ai as r,o as z,N as A,af as N,n as g,am as O}from "./315a852e.js";import{M as k,S as w}from "./index.148f4d09.js";import{_ as b}from "./d304026b.js";const j=S({__name:"index",setup(V){const l=d({title:"\u7528\u6237\u540D",width:140,filterOptionValue:null,key:"username",filter(e, a){return!!~a.username.indexOf(e.toString())||!!~(a.name||"").indexOf(e.toString())}}),y=[{title:"\u59D3\u540D",key:"name"},l,{title:"\u90AE\u7BB1",key:"email"},{title:"\u624B\u673A",key:"mobile"},{title:"\u4F01\u4E1A\u5FAE\u4FE1",key:"wecom"},{title:"\u9489\u9489\u540D\u79F0",key:"dingtalk"},{title:"\u98DE\u4E66\u540D\u79F0",key:"lark"},{title:"\u64CD\u4F5C",key:"actions",width:180,render(e){return[f(r,{size:"small",type:"primary",class:"mr-8px",onClick:()=>x(e)},{default:()=>"\u7F16\u8F91"}),f(b,{size:"small",type:"error",onClick:()=>C(e)},{default:()=>"\u5220\u9664"})]}}],u=d({page:1,pageSize:15,showSizePicker:!0,pageSizes:[10,15,25,30,50,100],onChange: e=>{u.page=e},onPageSizeChange: e=>{u.pageSize=e,u.page=1}}),i=m([]);v().then(e=>{i.value=e.data});const p=F();function h(){p.push({name:"ContactAdd"})}function x(e){p.push({name:"ContactEdit",params:{id:e.id}})}function C(e){D(e.id).then(()=>{var a;i.value.splice(i.value.indexOf(e),1),(a=k)==null||a.success("success")})}const s=m(!1);function _(){s.value=!0,E().then(()=>{var e;(e=k)==null||e.success("success")}).finally(()=>{s.value=!1})}return(e, a)=>(z(),B("div",null,[t(n(N),{value:l.filterOptionValue,"onUpdate:value":a[0]||(a[0]= o=>l.filterOptionValue=o),placeholder:"\u8FC7\u6EE4",style:{width:"240px",margin:"0 8px 8px 0"}},{suffix:c(()=>[t(n(A),{component:w})]),_:1},8,["value"]),t(n(r),{type:"primary",onClick:h,class:"mb-8px mr-8px"},{default:c(()=>[g("\u6DFB\u52A0")]),_:1}),t(n(r),{type:"warning",onClick:_,class:"mb-8px",loading:s.value},{default:c(()=>[g("\u540C\u6B65")]),_:1},8,["loading"]),t(n(O),{data:i.value,pagination:u,columns:y,"row-key": o=>o.id},null,8,["data","pagination","row-key"])]))}});export{j as default};
